#!/bin/bash
[ "$1" = "-h" ] && echo "Usage: cd [DIR]\nChange Directory\n.. is the previous directory\n. is the same directory\n Directoies beginninf with / are absolute, otherwise relative\nIf no directory is specified, go to home directory" && exit 0
dir="$1"
if [ $dir ] ; then
    [ "${dir:0:1}" = "/" ] && dir=$(realpath "${dir:1}")
    [ "${dir:0:1}" = "/" ] || dir=$(realpath "$(cat var/local/wd)/$dir")
    [ -e $dir ] && echo $dir > var/local/wd
    [ -e $dir ] || echo "cd: No such file or directory"
else
    echo home/$(ls home) > var/local/wd
fi
